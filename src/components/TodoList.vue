<template lang="">
  <div>
    <ul>
      <li
        v-for="(todoItem, index) in todoItems"
        v-bind:key="todoItem"
        class="shadow"
      >
        <button class="checkBtn" v-on:click="toggleComplete">click</button>
        {{ todoItem }}
        <button class="removeBtn" v-on:click="removeTodo(todoItem, index)">
          delete
        </button>
      </li>
    </ul>
  </div>
</template>
<script>
export default {
  data: function () {
    return {
      todoItems: [],
    };
  },
  methods: {
    removeTodo: function (todoItem, index) {
      //console.log(todoItem, index);
      localStorage.removeItem(todoItem);
      this.todoItems.splice(index, 1);
    },
    toggleComplete: function () {},
  },
  created: function () {
    if (localStorage.length > 0) {
      for (var i = 0; i < localStorage.length; i++) {
        if (localStorage.key(i) !== "loglevel:webpack-dev-server") {
          //this.todoItems.push(localStorage.key(i));
          this.todoItems.push(localStorage.getItem(localStorage.key(i)));
        }
      }
    }
  },
};
</script>
<style lang=""></style>
